!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(2)},,function(e,t,n){"use strict";n.r(t);(async()=>{if(!("wakeLock"in navigator)||!("request"in navigator.wakeLock))return;const e=()=>navigator.wakeLock.request("screen");await e(),document.addEventListener("visibilitychange",async()=>{"visible"===document.visibilityState&&await e()})})(),window.addEventListener("DOMContentLoaded",()=>{"serviceWorker"in window.navigator&&window.navigator.serviceWorker.register("./service-worker.js")},{once:!0});const i=new window.AudioContext,r=i.createGain();r.connect(i.destination);var o=(e,t=.25,n=200)=>{const o=i.createOscillator();r.gain.value=t,o.connect(r),o.type="sine",o.frequency.value=e,o.start(),setTimeout(()=>o.stop(),n)};const s={countdown:2500,set:220,break:1e3,finish:1500},a=document.getElementById("app"),u=document.getElementById("set-display"),c=document.getElementById("main-display"),d=c.previousElementSibling,l=document.getElementById("sub-display"),f=l.previousElementSibling,v=document.getElementById("state-toggle"),g=document.getElementById("reset-button"),m=document.getElementById("duration-visualization").lastElementChild;function y(e){L(c,e)}function b(e){S(d,e)}function p(e){L(l,e)}function E(e){S(f,e)}function w(e){v.firstElementChild.setAttribute("href","#"+e)}function O(e){L(u,e)}function S(e,t){e.textContent=t}function L(e,t){e.value=t}const h=JSON.parse(localStorage.getItem("fitness-timer-settings"))||{durations:[90,15],numberOfSets:6},k=()=>localStorage.setItem("fitness-timer-settings",JSON.stringify(h));var I={get durations(){return h.durations},setDuration(e,t){h.durations[e]=t,k()},get numberOfSets(){return h.numberOfSets},set numberOfSets(e){h.numberOfSets=e,k()}};const j=["Hussle","Chill"],x=["play","pause"],B=/^\d+$/;let C,D,M,P,_,T,N;function q(){D=!1,M=!1,C=I.numberOfSets,[P]=I.durations,H(),T(100),O(C),y(P),b(j[0]),p(I.durations[1]),E(j[1]),w(x[0]),v.addEventListener("click",z,{once:!0}),g.classList.add("hidden")}function A(){N=I.durations.map(e=>.01*e)}function J(){D=!D,w(x[+D]),D?_=setInterval(G,1e3):H()}function W(e,t){const{value:n}=t;B.test(n)?(I.setDuration(e,+n),A(),q()):L(t,I.durations[e])}function z(){o(s.set,void 0,600),g.classList.remove("hidden")}function G(){P-=1;const e=P<0;if(y(P),T(e?100:P/N[+M]),e){if(M=!M,M||(C-=1),!C)return o(s.finish,void 0,600),void q();P=I.durations[+M],o(s[M?"break":"set"]),O(C),y(P),p(I.durations[+!M]),b(j[+M]),E(j[+!M])}else P<10&&o(s.countdown,.25+.03*(10-P))}function H(){clearInterval(_)}window.addEventListener("DOMContentLoaded",()=>{!function(){const e=m.getTotalLength(),t=.01*e;T=e=>{m.style.strokeDashoffset="-"+t*(100-e)},A(),m.style.strokeDasharray=e}(),q()},{once:!0}),a.addEventListener("focusin",({target:e})=>{"INPUT"===e.tagName&&(D&&J(),e.select())}),u.addEventListener("change",({target:e})=>{const{value:t}=e;B.test(t)?(I.numberOfSets=+t,q()):O(I.numberOfSets)}),c.addEventListener("change",({target:e})=>{W(M?1:0,e)}),l.addEventListener("change",({target:e})=>{W(M?0:1,e)}),v.addEventListener("click",J),g.addEventListener("click",q)}]);
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(2)},,function(e,t,n){"use strict";n.r(t);(async()=>{if(!("wakeLock"in navigator)||!("request"in navigator.wakeLock))return;const e=()=>navigator.wakeLock.request("screen");await e(),document.addEventListener("visibilitychange",async()=>{"visible"===document.visibilityState&&await e()})})(),window.addEventListener("DOMContentLoaded",()=>{"serviceWorker"in window.navigator&&window.navigator.serviceWorker.register("./service-worker.js")},{once:!0});const i=new window.AudioContext,o=i.createGain();o.gain.value=.25,o.connect(i.destination);var r=(e,t=200)=>{const n=i.createOscillator();n.connect(o),n.type="sine",n.frequency.value=e,n.start(),setTimeout(()=>n.stop(),t)};const s={countdown:2500,set:220,break:1e3,finish:1500},a=document.getElementById("app"),u=document.getElementById("set-display"),c=document.getElementById("main-display"),d=c.previousElementSibling,l=document.getElementById("sub-display"),f=l.previousElementSibling,v=document.getElementById("state-toggle"),g=document.getElementById("reset-button"),m=document.getElementById("duration-visualization").lastElementChild;function y(e){k(c,e)}function p(e){h(d,e)}function b(e){k(l,e)}function w(e){h(f,e)}function E(e){v.firstElementChild.setAttribute("href","#"+e)}function L(e){k(u,e)}function h(e,t){e.textContent=t}function k(e,t){e.value=t}var O=new Proxy(JSON.parse(localStorage.getItem("fitness-timer-settings"))||{durations:[90,15],numberOfSets:6},{set:(e,t,n)=>t in e&&(Reflect.set(e,t,n),localStorage.setItem("fitness-timer-settings",JSON.stringify(e)),!0)});const S=["Hussle","Chill"],I=["play","pause"],x=/^\d+$/;let j,B,C,P,M,_,T;function D(){B=!1,C=!1,j=O.numberOfSets,[P]=O.durations,z(),_(100),L(j),y(P),p(S[0]),b(O.durations[1]),w(S[1]),E(I[0]),v.addEventListener("click",J,{once:!0}),g.classList.add("hidden")}function N(){T=O.durations.map(e=>.01*e)}function q(){B=!B,E(I[+B]),B?M=setInterval(W,1e3):z()}function A(e,t){const{value:n}=t;x.test(n)?(O.durations[e]=+n,O.durations=O.durations,N(),D()):k(t,O.durations[e])}function J(){r(s.set,500),g.classList.remove("hidden")}function W(){P-=1;const e=P<0;if(y(P),_(e?100:P/T[+C]),e){if(C=!C,C||(j-=1),!j)return r(s.finish,500),void D();P=O.durations[+C],r(s[C?"break":"set"]),L(j),y(P),b(O.durations[+!C]),p(S[+C]),w(S[+!C])}else P<10&&r(s.countdown)}function z(){clearInterval(M)}window.addEventListener("DOMContentLoaded",()=>{!function(){const e=m.getTotalLength(),t=.01*e;_=e=>{m.style.strokeDashoffset="-"+t*(100-e)},N(),m.style.strokeDasharray=e}(),D()},{once:!0}),a.addEventListener("focusin",({target:e})=>{"INPUT"===e.tagName&&(B&&q(),e.select())}),u.addEventListener("change",({target:e})=>{const{value:t}=e;x.test(t)?(O.numberOfSets=+t,D()):L(O.numberOfSets)}),c.addEventListener("change",({target:e})=>{A(C?1:0,e)}),l.addEventListener("change",({target:e})=>{A(C?0:1,e)}),v.addEventListener("click",q),g.addEventListener("click",D)}]);